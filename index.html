<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>El Pastillero Digital - Sistema de Gestión de Medicamentos</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navegación horizontal profesional -->
    <nav class="navbar">
        <div class="navbar-container">
            <div class="navbar-brand">
                <i class="fas fa-pills"></i>
                <span>El Pastillero Digital</span>
            </div>
            <ul class="navbar-menu">
                <li><a href="#inicio"><i class="fas fa-home"></i> Inicio</a></li>
                <li><a href="#medicamentos"><i class="fas fa-capsules"></i> Medicamentos</a></li>
                <li><a href="#alarmas"><i class="fas fa-bell"></i> Alarmas</a></li>
                <li><a href="#historial"><i class="fas fa-history"></i> Historial</a></li>
                <li><a href="#reportes"><i class="fas fa-chart-line"></i> Reportes</a></li>
            </ul>
        </div>
    </nav>

    <!-- Sección Hero con Botón de Vida -->
    <section class="hero-section" id="inicio">
        <div class="hero-content">
            <h1>Tu Salud, Siempre Contigo</h1>
            <p>Sistema inteligente de gestión de medicamentos con asistencia por voz</p>
            <button class="life-button" id="lifeButton" title="Botón de Vida - Presiona para asistencia por voz">
                <i class="fas fa-microphone"></i>
                <span class="life-button-text">Botón de Vida</span>
                <span class="pulse-ring"></span>
            </button>
        </div>
    </section>

    <!-- Sección de Cards de Navegación Estilo App -->
    <section class="dashboard-section">
        <div class="container">
            <h2 class="section-title">Panel de Control</h2>
            <div class="cards-grid">
                <!-- Card 1: Agregar Medicamento -->
                <div class="card">
                    <div class="card-icon">
                        <i class="fas fa-plus-circle"></i>
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">Agregar Medicamento</h3>
                        <p class="card-description">Registra nuevos medicamentos con recordatorios personalizados</p>
                    </div>
                    <div class="card-footer">
                        <button class="card-btn" onclick="location.href='#agregar'">Agregar Ahora</button>
                    </div>
                </div>

                <!-- Card 2: Mis Medicamentos -->
                <div class="card">
                    <div class="card-icon">
                        <i class="fas fa-list-ul"></i>
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">Mis Medicamentos</h3>
                        <p class="card-description">Consulta y gestiona todos tus medicamentos registrados</p>
                    </div>
                    <div class="card-footer">
                        <button class="card-btn" onclick="location.href='#lista'">Ver Lista</button>
                    </div>
                </div>

                <!-- Card 3: Alarmas Activas -->
                <div class="card">
                    <div class="card-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">Alarmas Activas</h3>
                        <p class="card-description">Configura y personaliza tus recordatorios de medicación</p>
                    </div>
                    <div class="card-footer">
                        <button class="card-btn" onclick="location.href='#alarmas'">Configurar</button>
                    </div>
                </div>

                <!-- Card 4: Historial -->
                <div class="card">
                    <div class="card-icon">
                        <i class="fas fa-history"></i>
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">Historial de Tomas</h3>
                        <p class="card-description">Revisa tu historial completo de medicación</p>
                    </div>
                    <div class="card-footer">
                        <button class="card-btn" onclick="location.href='#historial'">Ver Historial</button>
                    </div>
                </div>

                <!-- Card 5: Reportes -->
                <div class="card">
                    <div class="card-icon">
                        <i class="fas fa-file-medical-alt"></i>
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">Reportes Médicos</h3>
                        <p class="card-description">Genera reportes detallados para tu médico</p>
                    </div>
                    <div class="card-footer">
                        <button class="card-btn" onclick="location.href='#reportes'">Ver Reportes</button>
                    </div>
                </div>

                <!-- Card 6: Contacto SOS -->
                <div class="card card-emergency">
                    <div class="card-icon">
                        <i class="fas fa-phone-volume"></i>
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">Contacto de Emergencia</h3>
                        <p class="card-description">Configura tu contacto SOS para emergencias</p>
                    </div>
                    <div class="card-footer">
                        <button class="card-btn card-btn-emergency" id="sosConfigButton">Configurar SOS</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal para Asistente de Voz/SOS -->
    <div id="sosModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-microphone"></i> Asistente de Voz</h2>
                <button class="modal-close" id="modalClose">×</button>
            </div>
            <div class="modal-body">
                <div class="voice-interface">
                    <div class="voice-status" id="voiceStatus">
                        <i class="fas fa-microphone-slash"></i>
                        <p>Presiona el botón para hablar</p>
                    </div>
                    <div class="voice-controls">
                        <button class="voice-btn start" id="startListening">
                            <i class="fas fa-microphone"></i>
                            Iniciar Grabación
                        </button>
                        <button class="voice-btn stop" id="stopListening" style="display:none;">
                            <i class="fas fa-stop"></i>
                            Detener
                        </button>
                    </div>
                    <div class="voice-transcript" id="voiceTranscript">
                        <p>El texto de tu consulta aparecerá aquí...</p>
                    </div>
                    <div class="emergency-buttons">
                        <button class="emergency-btn" id="sosButton">
                            <i class="fas fa-exclamation-triangle"></i>
                            EMERGENCIA SOS
                        </button>
                        <button class="consultation-btn" id="consultationButton">
                            <i class="fas fa-question-circle"></i>
                            Consulta Medicamentos
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Formulario de Contacto SOS -->
    <div id="sosContactModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-user-plus"></i> Configurar Contacto de Emergencia</h2>
                <button class="modal-close" id="sosContactModalClose">×</button>
            </div>
            <div class="modal-body">
                <form id="sosContactForm" class="sos-form">
                    <div class="form-group">
                        <label for="sosContactName">
                            <i class="fas fa-user"></i> Nombre del Contacto
                        </label>
                        <input type="text" id="sosContactName" name="sosContactName" 
                               placeholder="Ej: Dr. Juan Pérez" required>
                    </div>
                    <div class="form-group">
                        <label for="sosContactPhone">
                            <i class="fas fa-phone"></i> Teléfono
                        </label>
                        <input type="tel" id="sosContactPhone" name="sosContactPhone" 
                               placeholder="Ej: +54 9 11 1234-5678" required>
                    </div>
                    <div class="form-group">
                        <label for="sosContactEmail">
                            <i class="fas fa-envelope"></i> Email (opcional)
                        </label>
                        <input type="email" id="sosContactEmail" name="sosContactEmail" 
                               placeholder="ejemplo@email.com">
                    </div>
                    <div class="form-group">
                        <label for="sosContactRelation">
                            <i class="fas fa-heart"></i> Relación
                        </label>
                        <select id="sosContactRelation" name="sosContactRelation" required>
                            <option value="">Seleccione una opción</option>
                            <option value="medico">Médico</option>
                            <option value="familiar">Familiar</option>
                            <option value="amigo">Amigo</option>
                            <option value="cuidador">Cuidador</option>
                            <option value="otro">Otro</option>
                        </select>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> Guardar Contacto
                        </button>
                        <button type="button" class="btn btn-secondary" id="cancelSosContact">
                            <i class="fas fa-times"></i> Cancelar
                        </button>
                    </div>
                </form>
                <div id="sosContactsList" class="sos-contacts-list">
                    <h3><i class="fas fa-address-book"></i> Contactos Guardados</h3>
                    <div id="contactsContainer">
                        <p class="no-contacts">No hay contactos de emergencia guardados.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/app.js"></script>
    <script src="js/medications.js"></script>
    <script src="js/scripts.js"></script>
    <script src="js/voice-sos.js"></script>
</body>
</html>
